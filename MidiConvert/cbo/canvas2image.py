import sys
import midiAngeloConversions
"""
unpacks data string into an array/grid of pixel values, returns a NxM nested list
"""
# def unpackDataString(str):
#     str = str.split("\\n")
#     del str[-1]
#     result = []
#     for row in str:
#         row = row.replace("(","")
#         row = row.replace(")","")
#         row = row.split(" ")
#         newrow = []
#         for pixel in row:
#             pixel = pixel.split(",")
#             for i in range(0, len(pixel)):
#                 pixel[i] = int(pixel[i])
#             newrow.append(pixel)
#         result.append(newrow)
#     return result

n = len(sys.argv)
if n != 4 :
    print("INVALID INPUT: Three inputs required,", n-1,"provided.\n REQUIRED PARAMITERS: outputFileName PixelArray scale")
    exit(1)


midiAngeloConversions.canvas2image(sys.argv[1],sys.argv[2],sys.argv[3])

#  for testing
# str = "(255,255,251) (255,255,256) (255,255,257) (255,255,258) (255,255,259) (255,259,20)\n(255,255,252) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,253) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,254) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n"
# print(test2)
# yeet = unpackDataString(test2)
# print(unpackDataString(sys.argv[2]))
# yeet = unpackDataString(sys.argv[2])
#
# midiAngeloConversions.canvas2image("unpacktest",yeet,100,True)# print(sys.argv[2])
#
# # unpacked = unpackDataString(sys.argv[2])
# # test2 = "(255,255,255) (255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (0,0,0)\n(255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255)\n(0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255)\n(0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255)\n(255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (255,255,255)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (0,0,0) (255,255,255)\n(255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255)\n(0,0,0) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255)\n(255,255,255) (255,255,255) (0,0,0) (0,0,0) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (255,255,255)\n(255,255,255) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (255,255,255) (0,0,0) (255,255,255) (0,0,0) (0,0,0) (255,255,255)\n"